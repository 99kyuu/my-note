<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width"/>
	    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
		<title>swiper插件</title>
		<style media="screen">
			*{ padding: 0; margin: 0; }
			html,body{ color: #333; background: #fff; -webkit-touch-callout: none; -webkit-text-size-adjust: none; -webkit-tap-highlight-color:rgba(0, 0, 0, 0); -webkit-user-select:none; font-family: "Helvetica Neue", Helvetica, sans-serif; }
			li{ list-style: none; }
			span,img{ display: block; }
			/*定义rem*/
			@media only screen and (min-width: 400px) { html { font-size: 53.33333333px !important; } }
			@media only screen and (min-width: 414px) { html { font-size: 55.2px !important; } }
			@media only screen and (min-width: 480px) { html { font-size: 64px !important; } }
			.wrap{ width: 100%; max-width: 600px; margin: auto; }
			/* overflow: hidden; */
			.swiper{ width: 100%; height: 4rem; position: relative; background-color: #eee; overflow: hidden; }
			.swiper .swiper_list{ overflow: hidden; position: relative; width: 100%; -webkit-transition: 0s all; transition: 0s all; }
			.swiper .swiper_slider{ float: left; width: 100%; height: 4rem; background-color: #333; text-align: center; line-height: 4rem; color: #fff; }
			.swiper img{ width: 100%; }
			.swiper .swiper_pagination{ position: absolute; width: 100%; height: 10px; bottom: 48px; left: 0; text-align: center; }
			.swiper .swiper_btn{ display: inline-block; margin-left: 8px; width: 8px; height: 8px; background-color: rgba(0,0,0,0.5); border-radius: 50%; }
			.swiper .swiper_btn_active{ background-color: #fff; }
		</style>
	</head>
	<body>
		<section class="wrap"></section>
		<p onclick="addSwiper(this)" style="text-align: center">add a swiper</p>
		<script type="text/javascript" src="./js/swiper.js"></script>
		<script type="text/javascript">
			function addSwiper (el) {
				let _html = `<div class="swiper mybanner">
								<ul class="swiper_list">
									<li class="swiper_slider">
										<p>silder-1</p>
									</li>
									<li class="swiper_slider">
										<p>silder-2</p>
									</li>
									<li class="swiper_slider">
										<p>silder-3</p>
									</li>
								</ul>
								<div class="swiper_pagination"></div>
							</div>`;
				document.querySelector('.wrap').insertAdjacentHTML('beforeEnd',_html);
				swiper({
					el: '.mybanner',
					pagination: true,
					loop: true,
					moveTime: 400,
					direction: true
				})
				el.parentNode.removeChild(el)
			}
			// 动态生成html
			function createList(_num, isBtn, fn) {
				let [_swiper, _ul, _li, _btn] = [document.createElement('div'), document.createElement('ul'), '', document.createElement('div')];
				_swiper.className = 'swiper';
				_swiper.style.marginBottom = '.4rem';
				_ul.className = 'swiper_list';
				_btn.className = 'swiper_pagination';
				for (let i = 0; i < _num; i++) _li += `<li class="swiper_slider"><p>silder-${i+1}</p></li>`;
				_ul.innerHTML = _li;
				_swiper.appendChild(_ul);
				if (isBtn) _swiper.appendChild(_btn);
				document.querySelector('.wrap').appendChild(_swiper);
				if (typeof fn === 'function') fn.call(this);
			}
			createList(5, true, () => {
				swiper({
					el: '.swiper',
					pagination: true,
					autoPaly: true,
					interval: 3000,
					// loop: true,
					// moveTime: 400,
					// direction: true
				});
			});
			
		</script>
	</body>
</html>
